"use strict";function insertText(){for(let e=0;e<sortRuleAll.length;e++)$("#sort article")[e].innerText=jobId2Name(sortRuleAll[e])}function insertTextCSS(){for(const e of document.querySelectorAll("article"))switch($(e).text()){case"战士":case"暗黑骑士":case"绝枪战士":case"骑士":$(e).css("color","lightblue");break;case"白魔法师":case"占星术士":case"学者":$(e).css("color","lightgreen");break;case"龙骑士":case"武僧":case"武士":case"忍者":case"黑魔法师":case"召唤师":case"青魔法师":case"赤魔法师":case"吟游诗人":case"机工士":case"舞者":$(e).css("color","red")}}function saveSort(){let e=$("#sort ul").children(),t=[];for(let s=0;s<e.length;s++){const o=e[s];t.push(jobName2Id(o.children[1].innerText))}window.localStorage.setItem("setSortRule",JSON.stringify(t))}function jobName2Id(e){return jobList.indexOf(e)+19}function jobId2Name(e){return jobList[e-19]}let sortRuleAll;var jobList=["骑士","武僧","战士","龙骑士","吟游诗人","白魔法师","黑魔法师","","召唤师","学者","","忍者","机工士","暗黑骑士","占星术士","武士","赤魔法师","青魔法师","绝枪战士","舞者"];window.onload=function(){sortRuleAll=null==window.localStorage.getItem("setSortRule")?[21,32,37,19,24,33,28,22,20,34,30,25,27,36,35,23,31,38]:JSON.parse(window.localStorage.getItem("setSortRule")),insertText(),insertTextCSS(),saveSort()},$("#save").click(function(){saveSort()}),$("#default").click(function(){sortRuleAll=[21,32,37,19,24,33,28,22,20,34,30,25,27,36,35,23,31,38],insertText(),insertTextCSS()});for(const e of document.querySelectorAll("span"))e.addEventListener("click",function(){let e=this.parentNode.children[1],t=$(e).text(),s=$(this.parentNode).index(),o=$(`#sort article:eq(${s-1})`),c=$(`#sort article:eq(${s+1})`);"up"==this.className?0!=s&&($(e).text(o.text()),$(o).text(t)):"down"==this.className&&17!=s&&($(e).text($(c).text()),$(c).text(t)),insertTextCSS()});